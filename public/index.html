<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <link rel="stylesheet" href="/css/index_style.css"/>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pretty-checkbox@3.0/dist/pretty-checkbox.min.css"/>
</head>
<body>
<div class="wrapper">
  <div class="centered-wrapper">
    <form>
      <input type="button" id="genRoom" value="Generate room">
      <div class="game-style-select">
        <div class="pretty p-default p-curve">
            <input type="radio" name="game-style" value="bo1" id="bo1" checked/>
            <div class="state p-primary-o">
                <label>BO1</label>
            </div>
        </div>
        <div class="pretty p-default p-curve">
            <input type="radio" name="game-style" value="bo2" id="bo2"/>
            <div class="state p-primary-o">
                <label>BO2</label>
            </div>
        </div>
        <div class="pretty p-default p-curve">
            <input type="radio" name="game-style" value="bo3" id="bo3"/>
            <div class="state p-primary-o">
                <label>BO3</label>
            </div>
        </div>
        <div class="pretty p-default p-curve">
            <input type="radio" name="game-style" value="bo5" id="bo5"/>
            <div class="state p-primary-o">
                <label>BO5</label>
            </div>
        </div>
      </div>
    </form>
  </div>
</div>

<script src="../js/libs/jquery-3.2.1.min.js"></script>
<script>

function makeid() {
  var text = "";
  var possible = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";

  for (var i = 0; i < 10; i++)
    text += possible.charAt(Math.floor(Math.random() * possible.length));

  return text;
}

var id = makeid();

$('#genRoom').on('click', function(){

var gameStyle;

if($('#bo1').is(':checked')) {
  gameStyle = 1;
} else if ($('#bo2').is(':checked')){
  gameStyle = 2;
} else if($('#bo3').is(':checked')){
  gameStyle = 3;
} else if($('#bo5').is(':checked')){
  gameStyle = 5;
}

  console.log(gameStyle);
  if(!gameStyle){
    alert('Please choose a game style');
  } else {
    window.location.href = `/mapban.html?roomid=${id}&gameStyle=${gameStyle}`;
  }

});

</script>
</html>
